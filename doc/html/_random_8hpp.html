<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Doxygen Awesome" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<meta property="og:url" content="https://jothepro.github.io/doxygen-awesome-css/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="Doxygen Awesome" />
<meta name="twitter:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<!-- END twitter metadata -->
<title>Onion: /Users/ladeira/Documents/src/onion/onion/Random.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/OnionFramework/onion" class="github-corner" title="View source on GitHub" target="_blank">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="onion.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Onion
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">Framework for metaheuristic algorithm implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_random_8hpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Random.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Introduces the random number generation (RNG) facilities of the Onion Framework.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_random_engine_8hpp_source.html">onion/RandomEngine.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_non_copyable_8hpp_source.html">onion/NonCopyable.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Random.hpp:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="_random_8hpp__incl.svg" width="400" height="127"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="_random_8hpp__dep__incl.svg" width="222" height="142"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="_random_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classonion_1_1_random_engine_proxy.html">onion::RandomEngineProxy</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and control the access to the global RandonEngine object.  <a href="classonion_1_1_random_engine_proxy.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceonion"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceonion.html">onion</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a110142f2ca38670c3cf0304e557fedfd"><td class="memItemLeft" align="right" valign="top">RandomEngine &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceonion.html#a110142f2ca38670c3cf0304e557fedfd">onion::Random</a> ()</td></tr>
<tr class="separator:a110142f2ca38670c3cf0304e557fedfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23407f6fc77f1bb2a9b6fc3c2c42dfc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceonion.html#ae23407f6fc77f1bb2a9b6fc3c2c42dfc">onion::SetRandomEngine</a> (RandomEngine *newEngine)</td></tr>
<tr class="separator:ae23407f6fc77f1bb2a9b6fc3c2c42dfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Introduces the random number generation (RNG) facilities of the Onion Framework. </p>
<h3><a class="anchor" id="autotoc_md0"></a>
Context</h3>
<p>Random number generation (RNG) during software development is usually quite simple. Every modern programming language contains at least one built-in library for this purpose. There are several different algorithms for RNG but using different RNG algorithms in different parts of the same application might result in a few development headaches:</p>
<ul>
<li><b>Debugging and result comparisson:</b> a simple way to compare results from different implementations of the same algorithm/problem is to run both using the same seed. If they adopt the same RNG algorithm, the results should be identical. This simple technique may be impossible to execute if different parts of the code are implementing RNG independently or using different RNG algorithms.</li>
<li><b>Changing RNG algorithm:</b> perfomance improvement or comparisson with other implementations may require changing the RNG algorithm entirely. Without a centralized RNG system, that may be impossible. Or, at least, a development nigthmare.</li>
</ul>
<p>Demmanding each component to re-implement the same RNG functionalities is also boring and error prone, from the developer point of view.</p>
<p>In order to avoid these problems the Onion Framework provides a centralized system for RNG. It is constituted by the following components:</p>
<ul>
<li><b>The RandomEngine interface class :</b> Abstract Data Type that defines the set of available facilities and their protocol.</li>
<li><b>Built-in RadomEngine implementations :</b> The framework provides two default implementations of the RandomEngine interface.<ul>
<li><b>RandomLegacyC:</b> implements RandomEngine using legacy C facilities. Namely: the rand(), time() and seed() functions from the C standard library.</li>
<li><b>RandomSTL:</b> implements RandomEngine using the facilities provided by C++ (11 and above) STL.</li>
</ul>
</li>
<li><b>The RandomEngineProxy class:</b> this class creates the global random engine object and controls the access to it.</li>
<li><b>The <a class="el" href="namespaceonion.html#a110142f2ca38670c3cf0304e557fedfd">Random()</a> function:</b> returns the single point of access to the global RandomEngine object.<ul>
<li><b>The <a class="el" href="namespaceonion.html#ae23407f6fc77f1bb2a9b6fc3c2c42dfc">SetRandomEngine()</a> function:</b> configures the global RandomEngine object.</li>
</ul>
</li>
</ul>
<p>The next example shows how to use the RNG system of the Onion Framework. </p><pre class="fragment">#include "onion/random.hpp"
...
// changes the random engine to RandomLegacyC
SetRandomEngine( new RandomLegacyC() );

// gets a random integer in the range [1,10]
auto rndi = Random().uniform_int_between(1,10);

//  gets a random real number in the range [0,1]
auto rndd = Random().uniform_real_01();
</pre><h3><a class="anchor" id="perf_comp"></a>Performance comparisson</h3>
<p>The next tables preset performance results of a few different engines as implemented by some compilers. Results are presented as time relative to the reference implementation. The lower, the faster.</p>
<p><b>Reference:</b> local implementation using C stdlib.<br  />
 <b>LegacyC:</b> Onion implementation using C stdlib.<br  />
 <b>STL (LCG):</b> Linear Congruential Generator <code>stl::minstd_rand</code>. This is the default engine in most STL implementations.<br  />
 <b>STL (MT):</b> STL Mersenne Twister 19937 generator implementation.</p>
<p>Test 1: time to generate 1 million uniformly distributed<sup><a href="#note1">1</a></sup> integers in the range [0,max_int]</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Compiler  </th><th class="markdownTableHeadCenter">Reference  </th><th class="markdownTableHeadCenter">Legacy C  </th><th class="markdownTableHeadCenter">STL (LCG)  </th><th class="markdownTableHeadCenter">STL (MT)   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">g++ (Ubuntu 12.2.0-3ubuntu1) 12.2.0  </td><td class="markdownTableBodyCenter">1.00  </td><td class="markdownTableBodyCenter">1.08  </td><td class="markdownTableBodyCenter">1.52  </td><td class="markdownTableBodyCenter">0.68   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Apple LLVM version 10.0.0 (clang-1000.11.45.5)  </td><td class="markdownTableBodyCenter">1.00  </td><td class="markdownTableBodyCenter">1.00  </td><td class="markdownTableBodyCenter">1.50  </td><td class="markdownTableBodyCenter">1.63   </td></tr>
</table>
<p>Test 2: time to generate 1 million uniformly distributed<sup><a href="#note1">1</a></sup> integers in the range [1,1000]</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Compiler  </th><th class="markdownTableHeadCenter">Reference  </th><th class="markdownTableHeadCenter">Legacy C  </th><th class="markdownTableHeadCenter">STL (LCG)  </th><th class="markdownTableHeadCenter">STL (MT)   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">g++ (Ubuntu 12.2.0-3ubuntu1) 12.2.0  </td><td class="markdownTableBodyCenter">1.00  </td><td class="markdownTableBodyCenter">1.15  </td><td class="markdownTableBodyCenter">0.44  </td><td class="markdownTableBodyCenter">0.72   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Apple LLVM version 10.0.0 (clang-1000.11.45.5)  </td><td class="markdownTableBodyCenter">1.00  </td><td class="markdownTableBodyCenter">1.05  </td><td class="markdownTableBodyCenter">5.18  </td><td class="markdownTableBodyCenter">2.86   </td></tr>
</table>
<p>Test 3: time to generate 1 million uniformly distributed<sup><a href="#note1">1</a></sup> real numbers in the range [0,1]</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Compiler  </th><th class="markdownTableHeadCenter">Reference  </th><th class="markdownTableHeadCenter">Legacy C  </th><th class="markdownTableHeadCenter">STL (LCG)  </th><th class="markdownTableHeadCenter">STL (MT)   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">g++ (Ubuntu 12.2.0-3ubuntu1) 12.2.0  </td><td class="markdownTableBodyCenter">1.00  </td><td class="markdownTableBodyCenter">1.08  </td><td class="markdownTableBodyCenter">0.67  </td><td class="markdownTableBodyCenter">1.06   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">Apple LLVM version 10.0.0 (clang-1000.11.45.5)  </td><td class="markdownTableBodyCenter">1.00  </td><td class="markdownTableBodyCenter">0.98  </td><td class="markdownTableBodyCenter">1.56  </td><td class="markdownTableBodyCenter">2.54   </td></tr>
</table>
<p><b>Notes</b></p>
<p><a class="anchor" id="note1"></a>1: Reference and Legacy C implementations produce results that are sligtly <a href="classonion_1_1_random_legacy_c.html#c_stdlib_non_uniform">non uniform</a>.</p>
<hr  />
 <dl class="section copyright"><dt>Copyright</dt><dd>2022 André Ladeira / Onion Framework. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_768391f28944dce58af16eb0f1f9e6f7.html">onion</a></li><li class="navelem"><a class="el" href="dir_aa03dd98a0e33e4b253be7365e0e36b3.html">onion</a></li><li class="navelem"><a class="el" href="_random_8hpp.html">Random.hpp</a></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
